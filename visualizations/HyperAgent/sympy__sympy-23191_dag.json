{
  "metadata": {
    "instance_id": "sympy__sympy-23191",
    "problem_statement": [
      "display bug while using pretty_print with sympy.vector object in the terminal",
      "The following code jumbles some of the outputs in the terminal, essentially by inserting the unit vector in the middle -\r",
      "```python\r",
      "from sympy import *\r",
      "from sympy.vector import CoordSys3D, Del\r",
      "\r",
      "init_printing()\r",
      "\r",
      "delop = Del()\r",
      "CC_ = CoordSys3D(\"C\")\r",
      "x,    y,    z    = CC_.x, CC_.y, CC_.z\r",
      "xhat, yhat, zhat = CC_.i, CC_.j, CC_.k\r",
      "\r",
      "t = symbols(\"t\")\r",
      "ten = symbols(\"10\", positive=True)\r",
      "eps, mu = 4*pi*ten**(-11), ten**(-5)\r",
      "\r",
      "Bx = 2 * ten**(-4) * cos(ten**5 * t) * sin(ten**(-3) * y)\r",
      "vecB = Bx * xhat\r",
      "vecE = (1/eps) * Integral(delop.cross(vecB/mu).doit(), t)\r",
      "\r",
      "pprint(vecB)\r",
      "print()\r",
      "pprint(vecE)\r",
      "print()\r",
      "pprint(vecE.doit())\r",
      "```\r",
      "\r",
      "Output:\r",
      "```python\r",
      "⎛     ⎛y_C⎞    ⎛  5  ⎞⎞    \r",
      "⎜2⋅sin⎜───⎟ i_C⋅cos⎝10 ⋅t⎠⎟\r",
      "⎜     ⎜  3⎟           ⎟    \r",
      "⎜     ⎝10 ⎠           ⎟    \r",
      "⎜─────────────────────⎟    \r",
      "⎜           4         ⎟    \r",
      "⎝         10          ⎠    \r",
      "\r",
      "⎛     ⌠                           ⎞    \r",
      "⎜     ⎮       ⎛y_C⎞    ⎛  5  ⎞    ⎟ k_C\r",
      "⎜     ⎮ -2⋅cos⎜───⎟⋅cos⎝10 ⋅t⎠    ⎟    \r",
      "⎜     ⎮       ⎜  3⎟               ⎟    \r",
      "⎜  11 ⎮       ⎝10 ⎠               ⎟    \r",
      "⎜10  ⋅⎮ ─────────────────────── dt⎟    \r",
      "⎜     ⎮             2             ⎟    \r",
      "⎜     ⎮           10              ⎟    \r",
      "⎜     ⌡                           ⎟    \r",
      "⎜─────────────────────────────────⎟    \r",
      "⎝               4⋅π               ⎠    \r",
      "\r",
      "⎛   4    ⎛  5  ⎞    ⎛y_C⎞ ⎞    \r",
      "⎜-10 ⋅sin⎝10 ⋅t⎠⋅cos⎜───⎟ k_C ⎟\r",
      "⎜                   ⎜  3⎟ ⎟    \r",
      "⎜                   ⎝10 ⎠ ⎟    \r",
      "⎜─────────────────────────⎟    \r",
      "⎝           2⋅π           ⎠    ```",
      ""
    ]
  },
  "nodes": [
    {
      "id": "node_0",
      "label": "Init",
      "type": "initialization",
      "content": "HyperAgent_sympy__sympy-23191 - INFO - Initialized HyperAgent instance sympy__sympy-23191",
      "index": 0,
      "context": null
    },
    {
      "id": "node_1",
      "label": "Init",
      "type": "initialization",
      "content": "HyperAgent_sympy__sympy-23191 - INFO - Initialized HyperAgent instance sympy__sympy-23191",
      "index": 1,
      "context": null
    },
    {
      "id": "node_2",
      "label": "Init",
      "type": "initialization",
      "content": "HyperAgent_sympy__sympy-23191 - INFO - Initialized HyperAgent instance sympy__sympy-23191",
      "index": 2,
      "context": null
    }
  ],
  "edges": [
    {
      "source": "node_0",
      "target": "node_1",
      "edge_type": "sequential"
    },
    {
      "source": "node_1",
      "target": "node_2",
      "edge_type": "sequential"
    }
  ]
}